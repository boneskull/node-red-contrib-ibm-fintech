<script>
  (function () {
    var DEFAULT_HOST = 'fss-analytics.mybluemix.net';

    RED.nodes.registerType('simulated-instrument-analytics', {
      category: 'config',
      defaults: {
        name: {
          value: ''
        },
        host: {
          value: DEFAULT_HOST,
          required: true
        }
      },
      credentials: {
        token: {
          type: 'password'
        }
      },
      label: function () {
        return this.name || this.host || 'Simulated Instrument Analytics';
      },
      /**
       * Prepare editor panel
       * 1. sets placeholder of host field to default host 
       */
      oneditprepare: function () {
        $('#node-config-input-host').attr('placeholder', DEFAULT_HOST);
      }
    });
  }());
</script>

<script type="text/x-red" data-template-name="simulated-instrument-analytics">
  <div class="form-row">
    <label for="node-config-input-host">
      <i class="fa fa-bookmark"></i> Host</label>
    <input type="text" id="node-config-input-host" />
  </div>
  <div class="form-row">
    <label for="node-config-input-token">
      <i class="fa fa-key"></i> API Token</label>
    <input type="password" id="node-config-input-token" />
  </div>
  <div class="form-row">
    <label for="node-config-input-name">
      <i class="fa fa-tag"></i> Name</label>
    <input type="text" id="node-config-input-name" placeholder="Name" />
  </div>
</script>
