<script>
RED.nodes.registerType('portfolio-read', {
  category: 'fintech',
  defaults: {
    name: {
      value: null
    },
    service: {
      type: 'investment-portfolio'
    },
    portfolioName: {
      value: null
    },
    date: {
      value: null
    },
    time: {
      value: null
    },
    limit: {
      value: 1
    },
    sort: {
      value: 'asc'
    },
    hasKey: {
      value: null
    },
    hasKeyValue: {
      value: null
    },
    hasNoKey: {
      value: null
    },
    selector: {
      value: null,
      validate: function (v) {
        if (!v) {
          return true;
        }
        try {
          JSON.parse(v);
          return true;
        } catch (ignored) {
          return false;
        }
      }
    }
  },
  inputs: 1,
  outputs: 1,
  color: '#85bb65',
  paletteLabel: 'investment portfolio',
  label: function () {
    return this.name || this.portfolioName || 'investment portfolio';
  }
});
</script>

<script type="text/x-red" data-template-name="investment-portfolio-read">
  <div class="form-row">
    <label for="node-input-service"><i class="fa fa-bookmark"></i> Service</label>
    <input type="text" id="node-input-service"/>
  </div>
  <div class="form-row">
    <label for="node-input-portfolioName"><i class="fa fa-book"></i> Portfolio</label>
    <input type="text" id="node-input-portfolioName" placeholder="(from topic)"/>
  </div>
  <div class="form-row">
    <label for="node-input-date"><i class="fa fa-calendar"></i> After Date</label>
    <input type="date" id="node-input-date"/>
  </div>
  <div class="form-row">
    <label for="node-input-time"><i class="fa fa-clock-o"></i> Time</label>
    <input type="time" id="node-input-time"/>
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name"/>
  </div>
</script>
